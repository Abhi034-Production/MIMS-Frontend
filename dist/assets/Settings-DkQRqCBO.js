import{u as y,r as s,T as p,A as b,y as r,j as e,L as w,S as k,b as j,M as f,i as v,a as N}from"./index-Ct45hBRj.js";const C=()=>{const d=y(),[n,i]=s.useState(""),[o,l]=s.useState(""),{theme:c,toggleTheme:x}=s.useContext(p),{user:t,login:g}=s.useContext(b);s.useEffect(()=>{t&&t.email?i(t.name||""):(r.error("Unauthorized. Redirecting to login..."),d("/"))},[t,d]);const h=async a=>{a.preventDefault();try{if((await N.put("https://mims-backend-x0i3.onrender.com/update-admin",{email:t.email,name:n,password:o})).data.status==="success"){const u={...t,name:n};g(u),r.success("Profile updated successfully!")}else r.error("Update failed.")}catch{r.error("Server error")}};return e.jsxs(w,{children:[e.jsx(k,{title:"Settings | easyinventory",description:"Manage your account settings on easyinventory. Update your name, email, and password for a secure experience.",keywords:"account settings, user profile, change password, update profile, easyinventory",url:"https://easyinventory.online/settings"}),e.jsx("div",{className:"text-sm text-gray-600 mb-4 dark:text-white",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-500 dark:text-white",children:e.jsx(j,{to:"/home",children:e.jsx(f,{fontSize:20})})}),e.jsx("span",{className:"text-gray-400 dark:text-white",children:"/"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:"Settings"})]})}),e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Theme"}),e.jsxs("button",{onClick:x,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 transition w-full md:w-auto",children:["Switch to ",c==="light"?"Dark":"Light"," Mode"]})]}),e.jsxs("form",{className:"space-y-4",onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-white",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",value:t?.email||"",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-white",children:"Name"}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",value:n,onChange:a=>i(a.target.value),placeholder:"Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 dark:text-white",children:"Change Password"}),e.jsx("input",{type:"password",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",value:o,onChange:a=>l(a.target.value),placeholder:"New Password"})]}),e.jsx("button",{type:"submit",className:"bg-[#5990d7] text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}),e.jsx(v,{})]})]})};export{C as default};
